<!-- TO DO 
Show the name and last name in the popup before delete !!!!!
-->
{% extends "base.html" %}
{% block content %}
<script type="text/javascript">
function search() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("search");
  filter = input.value.toUpperCase();
  table = document.getElementById("table");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>
<div class="panel panel-default">
	<div style="text-align: center" class="panel panel-heading">
		<h5>Members of Hub.io</h5>
	</div>
		<div class="input-group">
			<input onkeyup="search()" value="" id="search" type="search" class="form-control" placeholder="Search ...">
			<span class="input-group-btn">
				<button class="btn btn-default" type="submit" onclick="search()">Go
				</button>
			</span>
		</div>
	<div class="panel panel-body">
		<table id="table" class="table table-hover">
			<tr>
				<th>Nom</th>
				<th>View</th>
				<th>Modify</th>
				<th>Remove</th>
			</tr>
			{% for user in users %}
    		<tr>

    			<td>
    				<h5>{{ user.first }} {{ user.last }}</h5>
    			</td>
    			<td>
                    <form role="form" action="/displayuser" method="post">{% csrf_token %}
                        <input name="id" value= "{{ user.id }}" id="id" type="hidden">
    				<button type="submit" class="btn btn-default btn-sm" data-toggle="modal" data-target="#display-user">
    					<span class="glyphicon glyphicon-eye-open"></span>
    				</button>
                    </form>

                </div>
              </div>
            </div>
    			</td>
    			<td>
    				<button class="btn btn-default btn-sm">
    					<span class="glyphicon glyphicon-pencil"></span>
    				</button>
    			</td>
    			<td>
            <form role="form" action="/delete" method="post">{% csrf_token %}
              <input name="id" value= "{{ user.id }}" id="id" type="hidden">
              <button type="submit" class="btn btn-default btn-sm">
                <span class="glyphicon glyphicon-trash"></span>
              </button>
    				</a>
            </form>
          </td>
<!--           <div class="container">
            <div class="modal fade" id="my" role="dialog" aria-hidden="True">
              <div class="modal-dialog">
                <div class="modal-content">

                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                    <h5 class="modal-title">Confirm</h5>
                  </div>

                  <div class="modal-body">
                    <h5>Do you really want to delete {{ user.first }}? </h5>
                    <form role="form" action="/delete" method="post">{% csrf_token %}
                      <input name="id" value= "{{ user.id }}" id="id" type="hidden">
                      <button type="submit" class="btn btn-danger">Delete</button>
                      <button type="button" class="btn btn-success" data-dismiss="modal">Close</button>
                    </form>
                  </div>
                  <div class="modal-footer">
                  </div>
                </div>
              </div>
            </div>
          </div> -->
        </tr>
        {% endfor %}
		</table>
		<hr>
		<h5> Ã‚ge total =  <span class="badge">{{ total_age }}</span> </h5>
	</div>
</div>
{% endblock %}
